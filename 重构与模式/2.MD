[toc]



# 2 重构



## 2.1 何谓重构
### 定义
- 一种保持行为的转换
- 一种对软件内部结构的改善, 在不影响软件的可见行为情况下，使其容易理解修改，修改成本更低
### 重构过程
- 去除重复
- 简化复杂逻辑
- 澄清模糊代码
- 修改命名，增强其可读性
- 合并提供公共功能相关的类， 增强其内聚性
- ...
### 保证重构安全性(确保所做的修改不会产生任何破坏)
> 使用手工测试或者运行自动化测试 
### 自动化测试对重构的好处
> 若能快速地运行自动化测试， 确保修改后的代码仍能够工作, 则可以放心重构并且能够尝试实验性的设计， 因为有自动化测试代码帮助快速反馈错误



## 2.2 重构的动机
### 偿还设计欠账
...
### 改善既有代码的设计
...
### 增强对代码的理解
...
### 提高编程的趣味性



## 2.4 可读性好的代码
...
## 2.5 保持代码清晰可见
...
## 2.6 循序渐进
...
## 2.7 设计欠账
...
## 2.8 演变出新的架构
...
## 2.9 复合重构&测试驱动的重构