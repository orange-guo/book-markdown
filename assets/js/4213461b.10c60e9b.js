"use strict";(self.webpackChunkmarkdowns=self.webpackChunkmarkdowns||[]).push([[9689],{3905:(e,r,a)=>{a.d(r,{Zo:()=>p,kt:()=>m});var t=a(7294);function n(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function o(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),a.push.apply(a,t)}return a}function i(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?o(Object(a),!0).forEach((function(r){n(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))}))}return e}function c(e,r){if(null==e)return{};var a,t,n=function(e,r){if(null==e)return{};var a,t,n={},o=Object.keys(e);for(t=0;t<o.length;t++)a=o[t],r.indexOf(a)>=0||(n[a]=e[a]);return n}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)a=o[t],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=t.createContext({}),s=function(e){var r=t.useContext(l),a=r;return e&&(a="function"==typeof e?e(r):i(i({},r),e)),a},p=function(e){var r=s(e.components);return t.createElement(l.Provider,{value:r},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},g=t.forwardRef((function(e,r){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),d=s(a),g=n,m=d["".concat(l,".").concat(g)]||d[g]||u[g]||o;return a?t.createElement(m,i(i({ref:r},p),{},{components:a})):t.createElement(m,i({ref:r},p))}));function m(e,r){var a=arguments,n=r&&r.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=g;var c={};for(var l in r)hasOwnProperty.call(r,l)&&(c[l]=r[l]);c.originalType=e,c[d]="string"==typeof e?e:n,i[1]=c;for(var s=2;s<o;s++)i[s]=a[s];return t.createElement.apply(null,i)}return t.createElement.apply(null,a)}g.displayName="MDXCreateElement"},7494:(e,r,a)=>{a.r(r),a.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>c,toc:()=>s});var t=a(7462),n=(a(7294),a(3905));const o={},i="\u5f00\u53d1\u9047\u5230\u7684\u95ee\u9898",c={unversionedId:"problem/dev",id:"problem/dev",title:"\u5f00\u53d1\u9047\u5230\u7684\u95ee\u9898",description:"mgmt-api\u5bb9\u5668\u4e2d\u6267\u884cburi\u62a5\u9519\u63d0\u793a\u6267\u884c\u6743\u9650",source:"@site/docs/problem/3-dev.md",sourceDirName:"problem",slug:"/problem/dev",permalink:"/markdowns/docs/problem/dev",draft:!1,editUrl:"https://github.com/orange-guo/markdowns/tree/master/docs/problem/3-dev.md",tags:[],version:"current",lastUpdatedBy:"xiangcheng.kuo",lastUpdatedAt:1675997428,formattedLastUpdatedAt:"Feb 10, 2023",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u751f\u4ea7\u9047\u5230\u7684\u95ee\u9898",permalink:"/markdowns/docs/problem/prod"},next:{title:"\u5e38\u7528\u547d\u4ee4",permalink:"/markdowns/docs/problem/command"}},l={},s=[{value:"mgmt-api\u5bb9\u5668\u4e2d\u6267\u884cburi\u62a5\u9519\u63d0\u793a\u6267\u884c\u6743\u9650",id:"mgmt-api\u5bb9\u5668\u4e2d\u6267\u884cburi\u62a5\u9519\u63d0\u793a\u6267\u884c\u6743\u9650",level:2},{value:"\u95ee\u9898\u539f\u56e0",id:"\u95ee\u9898\u539f\u56e0",level:3},{value:"\u6392\u67e5\u6b65\u9aa4",id:"\u6392\u67e5\u6b65\u9aa4",level:3},{value:"\u89e3\u51b3\u65b9\u6848",id:"\u89e3\u51b3\u65b9\u6848",level:3},{value:"NOTT\u6587\u4ef6\u4e0b\u8f7d\u5185\u5bb9\u4e3a\u7a7a",id:"nott\u6587\u4ef6\u4e0b\u8f7d\u5185\u5bb9\u4e3a\u7a7a",level:2},{value:"\u95ee\u9898",id:"\u95ee\u9898",level:3},{value:"\u89e3\u51b3\u65b9\u6848",id:"\u89e3\u51b3\u65b9\u6848-1",level:3},{value:"\u5907\u6ce8",id:"\u5907\u6ce8",level:3},{value:"BILLING\u670d\u52a1\u7684NOTT\u91cd\u590d\u6d88\u8d39",id:"billing\u670d\u52a1\u7684nott\u91cd\u590d\u6d88\u8d39",level:2},{value:"\u539f\u56e0",id:"\u539f\u56e0",level:3},{value:"\u8bf7\u6c42fastone-api\u767b\u5f55\u65f6AuthenticationManager\u62a5\u9519",id:"\u8bf7\u6c42fastone-api\u767b\u5f55\u65f6authenticationmanager\u62a5\u9519",level:2},{value:"\u73b0\u8c61",id:"\u73b0\u8c61",level:3},{value:"\u539f\u56e0",id:"\u539f\u56e0-1",level:3},{value:"\u89e3\u51b3\u65b9\u6848",id:"\u89e3\u51b3\u65b9\u6848-2",level:3},{value:"\u5907\u6ce8",id:"\u5907\u6ce8-1",level:3},{value:"\u5728consul\u4e2d\u4fee\u6539mgmt-api\u670d\u52a1\u7684\u5c5e\u6027\u914d\u7f6e\u65f6\u89e6\u53d1\u534f\u7a0b\u62a5\u9519",id:"\u5728consul\u4e2d\u4fee\u6539mgmt-api\u670d\u52a1\u7684\u5c5e\u6027\u914d\u7f6e\u65f6\u89e6\u53d1\u534f\u7a0b\u62a5\u9519",level:2},{value:"\u73b0\u8c61",id:"\u73b0\u8c61-1",level:3},{value:"\u539f\u56e0",id:"\u539f\u56e0-2",level:3},{value:"\u89e3\u51b3\u65b9\u6848",id:"\u89e3\u51b3\u65b9\u6848-3",level:3},{value:"\u5907\u6ce8",id:"\u5907\u6ce8-2",level:3},{value:"\u65e5\u5fd7",id:"\u65e5\u5fd7",level:4},{value:"Reference",id:"reference",level:4},{value:"\u4fee\u6539\u96c6\u7fa4\u5b9e\u4f8b\u7684\u7f51\u7edc",id:"\u4fee\u6539\u96c6\u7fa4\u5b9e\u4f8b\u7684\u7f51\u7edc",level:2},{value:"CacheManager\u81ea\u52a8\u88c5\u914d\u539f\u7406\u5206\u6790",id:"cachemanager\u81ea\u52a8\u88c5\u914d\u539f\u7406\u5206\u6790",level:2},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0",level:3},{value:"\u89e3\u51b3\u65b9\u6848",id:"\u89e3\u51b3\u65b9\u6848-4",level:3},{value:"\u5907\u6ce8",id:"\u5907\u6ce8-3",level:3},{value:"\u5c3d\u91cf\u4f7f\u7528db\u91cc\u5b58\u50a8\u7684domain\u4fe1\u606f\u53bb\u505a\u903b\u8f91\u5904\u7406",id:"\u5c3d\u91cf\u4f7f\u7528db\u91cc\u5b58\u50a8\u7684domain\u4fe1\u606f\u53bb\u505a\u903b\u8f91\u5904\u7406",level:2},{value:"\u539f\u56e0",id:"\u539f\u56e0-3",level:3},{value:"mgmt-api\u670d\u52a1\u62a5\u9519\u83b7\u53d6\u4e0d\u5230JdbcConnection",id:"mgmt-api\u670d\u52a1\u62a5\u9519\u83b7\u53d6\u4e0d\u5230jdbcconnection",level:2},{value:"\u73b0\u8c61",id:"\u73b0\u8c61-2",level:3},{value:"\u539f\u56e0",id:"\u539f\u56e0-4",level:3},{value:"\u89e3\u51b3\u65b9\u6848",id:"\u89e3\u51b3\u65b9\u6848-5",level:3},{value:"\u5907\u6ce8",id:"\u5907\u6ce8-4",level:3},{value:"\u65e5\u5fd7",id:"\u65e5\u5fd7-1",level:4},{value:"fastone-api\u670d\u52a1\u5347\u7ea7spring-boot3\u540e\u4f7f\u7528Token\u8bf7\u6c42\u4fdd\u62a4\u8d44\u6e90\u62a5\u9519",id:"fastone-api\u670d\u52a1\u5347\u7ea7spring-boot3\u540e\u4f7f\u7528token\u8bf7\u6c42\u4fdd\u62a4\u8d44\u6e90\u62a5\u9519",level:2},{value:"\u73b0\u8c61",id:"\u73b0\u8c61-3",level:3},{value:"\u89e3\u51b3\u65b9\u6848",id:"\u89e3\u51b3\u65b9\u6848-6",level:3},{value:"\u5907\u6ce8",id:"\u5907\u6ce8-5",level:3},{value:"\u53c2\u8003",id:"\u53c2\u8003",level:4},{value:"CC\u4e9a\u592a\u4e8c\u533a\u4efb\u52a1\u6267\u884c\u5931\u8d25, \u6ca1\u6709\u8f93\u51fa",id:"cc\u4e9a\u592a\u4e8c\u533a\u4efb\u52a1\u6267\u884c\u5931\u8d25-\u6ca1\u6709\u8f93\u51fa",level:2},{value:"\u73b0\u8c61",id:"\u73b0\u8c61-4",level:3},{value:"\u539f\u56e0",id:"\u539f\u56e0-5",level:3},{value:"\u89e3\u51b3\u65b9\u6848",id:"\u89e3\u51b3\u65b9\u6848-7",level:3},{value:"\u6392\u67e5\u6b65\u9aa4",id:"\u6392\u67e5\u6b65\u9aa4-1",level:3},{value:"1. \u63a8\u6d4b\u4e3ajuice\u4e3afuse\u548cdocker mount\u4e0d\u517c\u5bb9",id:"1-\u63a8\u6d4b\u4e3ajuice\u4e3afuse\u548cdocker-mount\u4e0d\u517c\u5bb9",level:3},{value:"2. \u5bb9\u5668\u5916\u7684Mount\u665a\u4e8e\u521b\u5efa\u5bb9\u5668\u65f6\u521b\u5efa\u7684Mount\u5bfc\u81f4\u6587\u4ef6\u4e0d\u4e00\u81f4",id:"2-\u5bb9\u5668\u5916\u7684mount\u665a\u4e8e\u521b\u5efa\u5bb9\u5668\u65f6\u521b\u5efa\u7684mount\u5bfc\u81f4\u6587\u4ef6\u4e0d\u4e00\u81f4",level:3},{value:"\u53c2\u8003",id:"\u53c2\u8003-1",level:3},{value:"cluster-scheduler\u8bf7\u6c42\u5ba1\u8ba1\u670d\u52a1\u5931\u8d25\u540e\u5bfc\u81f4\u540e\u7eed\u8bf7\u6c42\u4e00\u76f4\u5931\u8d25, \u4e14\u62a5\u9519\u4fe1\u606f\u76f8\u540c",id:"cluster-scheduler\u8bf7\u6c42\u5ba1\u8ba1\u670d\u52a1\u5931\u8d25\u540e\u5bfc\u81f4\u540e\u7eed\u8bf7\u6c42\u4e00\u76f4\u5931\u8d25-\u4e14\u62a5\u9519\u4fe1\u606f\u76f8\u540c",level:2},{value:"\u539f\u56e0",id:"\u539f\u56e0-6",level:3},{value:"\u89e3\u51b3\u65b9\u6848",id:"\u89e3\u51b3\u65b9\u6848-8",level:3},{value:"\u53c2\u8003",id:"\u53c2\u8003-2",level:3},{value:"remote-access\u670d\u52a1\u7684websocket\u65e0\u6cd5\u8fde\u63a5\u663e\u793a401",id:"remote-access\u670d\u52a1\u7684websocket\u65e0\u6cd5\u8fde\u63a5\u663e\u793a401",level:2},{value:"\u73b0\u8c61",id:"\u73b0\u8c61-5",level:3},{value:"\u539f\u56e0",id:"\u539f\u56e0-7",level:3},{value:"\u89e3\u51b3\u65b9\u6848",id:"\u89e3\u51b3\u65b9\u6848-9",level:3},{value:"\u53c2\u8003",id:"\u53c2\u8003-3",level:3},{value:"cc\u73af\u5883\u5317\u4e00\u533a\u7684\u96c6\u7fa4\u65e0\u6cd5\u901a\u8fc7<code>SSH/VNC</code>\u8fde\u63a5",id:"cc\u73af\u5883\u5317\u4e00\u533a\u7684\u96c6\u7fa4\u65e0\u6cd5\u901a\u8fc7sshvnc\u8fde\u63a5",level:2},{value:"\u73b0\u8c61",id:"\u73b0\u8c61-6",level:3},{value:"\u539f\u56e0",id:"\u539f\u56e0-8",level:3},{value:"\u89e3\u51b3\u65b9\u6848",id:"\u89e3\u51b3\u65b9\u6848-10",level:3},{value:"\u6392\u67e5\u6b65\u9aa4",id:"\u6392\u67e5\u6b65\u9aa4-2",level:3},{value:"\u53c2\u8003",id:"\u53c2\u8003-4",level:3}],p={toc:s};function d(e){let{components:r,...a}=e;return(0,n.kt)("wrapper",(0,t.Z)({},p,a,{components:r,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"\u5f00\u53d1\u9047\u5230\u7684\u95ee\u9898"},"\u5f00\u53d1\u9047\u5230\u7684\u95ee\u9898"),(0,n.kt)("h2",{id:"mgmt-api\u5bb9\u5668\u4e2d\u6267\u884cburi\u62a5\u9519\u63d0\u793a\u6267\u884c\u6743\u9650"},"mgmt-api\u5bb9\u5668\u4e2d\u6267\u884cburi\u62a5\u9519\u63d0\u793a\u6267\u884c\u6743\u9650"),(0,n.kt)("h3",{id:"\u95ee\u9898\u539f\u56e0"},"\u95ee\u9898\u539f\u56e0"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"jib\u6253\u5305\u65f6\u4e22\u5931\u4e86\u6743\u9650")),(0,n.kt)("h3",{id:"\u6392\u67e5\u6b65\u9aa4"},"\u6392\u67e5\u6b65\u9aa4"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u6839\u636eburi\u7684\u6743\u9650\u548c\u5bb9\u5668\u91cc\u6587\u4ef6\u6743\u9650\u8fdb\u884c\u6bd4\u5bf9\u53d1\u73b0\u5b58\u5728\u5dee\u5f02\u4e14stat\u5bb9\u5668\u7684\u6587\u4ef6\u53d1\u73b0\u4fee\u6539\u65f6\u95f4\u4e00\u76f4\u5728\u53d8\u5316\u8bf4\u660e\u4e0d\u5b58\u5728\u7f13\u5b58\u7684\u95ee\u9898")),(0,n.kt)("h3",{id:"\u89e3\u51b3\u65b9\u6848"},"\u89e3\u51b3\u65b9\u6848"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u6267\u884c\u524d\u589e\u52a0exec\u6743\u9650")),(0,n.kt)("h2",{id:"nott\u6587\u4ef6\u4e0b\u8f7d\u5185\u5bb9\u4e3a\u7a7a"},"NOTT\u6587\u4ef6\u4e0b\u8f7d\u5185\u5bb9\u4e3a\u7a7a"),(0,n.kt)("h3",{id:"\u95ee\u9898"},"\u95ee\u9898"),(0,n.kt)("p",null,"minio.Read\u51fd\u6570\u78b0\u5230\u6587\u4ef6\u672b\u5c3e\u65f6\u4f1a\u8fd4\u56deEOF\u9519\u8bef, \u4f46buffer\u91cc\u6709\u5185\u5bb9"),(0,n.kt)("h3",{id:"\u89e3\u51b3\u65b9\u6848-1"},"\u89e3\u51b3\u65b9\u6848"),(0,n.kt)("p",null,"\u78b0\u5230EOF\u65f6\u4e00\u5e76\u5224\u65ad\u8bfb\u53d6\u5230\u957f\u5ea6\u505a\u53cc\u91cd\u5224\u65ad"),(0,n.kt)("h3",{id:"\u5907\u6ce8"},"\u5907\u6ce8"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/minio/minio-go/blob/master/api-get-object.go"},"https://github.com/minio/minio-go/blob/master/api-get-object.go")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://man7.org/linux/man-pages/man2/read.2.html"},"https://man7.org/linux/man-pages/man2/read.2.html"))),(0,n.kt)("h2",{id:"billing\u670d\u52a1\u7684nott\u91cd\u590d\u6d88\u8d39"},"BILLING\u670d\u52a1\u7684NOTT\u91cd\u590d\u6d88\u8d39"),(0,n.kt)("h3",{id:"\u539f\u56e0"},"\u539f\u56e0"),(0,n.kt)("p",null,"billing-mgr\u90a3\u8fb9\u4e5f\u914d\u7f6e\u4e86dispatcher, \u5e93\u81ea\u8eab\u4e5f\u914d\u7f6e\u4e86dispatcher, \u5bfc\u81f4\u6253\u67b6"),(0,n.kt)("h2",{id:"\u8bf7\u6c42fastone-api\u767b\u5f55\u65f6authenticationmanager\u62a5\u9519"},"\u8bf7\u6c42fastone-api\u767b\u5f55\u65f6AuthenticationManager\u62a5\u9519"),(0,n.kt)("h3",{id:"\u73b0\u8c61"},"\u73b0\u8c61"),(0,n.kt)("p",null,"\u8f93\u5165\u9519\u8bef\u7684\u7528\u6237\u5bc6\u7801\u767b\u5f55\u65f6\u62a5\u9519(There is no PasswordEncoder mapped for the id )"),(0,n.kt)("h3",{id:"\u539f\u56e0-1"},"\u539f\u56e0"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u6211\u4eec\u4f7f\u7528",(0,n.kt)("inlineCode",{parentName:"li"},"AuthenticationManagerBuilder"),"\u6765\u6784\u5efa",(0,n.kt)("inlineCode",{parentName:"li"},"AuthenticationManager")),(0,n.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u7684",(0,n.kt)("inlineCode",{parentName:"li"},"AuthenticationManagerBuilder"),"\u643a\u5e26\u4e86ParentAutneticationManager`"),(0,n.kt)("li",{parentName:"ul"},"\u8ba4\u8bc1\u65f6\u7531\u4e8e",(0,n.kt)("inlineCode",{parentName:"li"},"ssh fsauth"),"\u6267\u884c\u5931\u8d25, ",(0,n.kt)("inlineCode",{parentName:"li"},"AuthenticationManager"),"\u5185\u90e8\u59d4\u6258",(0,n.kt)("inlineCode",{parentName:"li"},"ParentAutneticationManager"),"\u5c1d\u8bd5\u8ba4\u8bc1"),(0,n.kt)("li",{parentName:"ul"},"\u5176\u5b9e\u73b0\u65b9\u5f0f\u662f\u6839\u636e\u5bc6\u7801\u53bb\u5339\u914d, \u5176\u9ed8\u8ba4\u7684",(0,n.kt)("inlineCode",{parentName:"li"},"PasswordEncoder"),"\u5b9e\u73b0\u662f",(0,n.kt)("inlineCode",{parentName:"li"},"DelegatingPasswordEncoder"),"\u6839\u636e\u5bc6\u7801\u524d\u7f00\u53bb\u63a8\u65adPasswordEncoder,\n\u4f46\u662f\u6211\u4eec\u7684\u5bc6\u7801\u6ca1\u6709\u8be5\u524d\u7f00\u6545\u800c\u629b\u9519")),(0,n.kt)("h3",{id:"\u89e3\u51b3\u65b9\u6848-2"},"\u89e3\u51b3\u65b9\u6848"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u79fb\u9664AuthenticationManager\u4e2d\u7684ParentAutneticationManager")),(0,n.kt)("h3",{id:"\u5907\u6ce8-1"},"\u5907\u6ce8"),(0,n.kt)("h2",{id:"\u5728consul\u4e2d\u4fee\u6539mgmt-api\u670d\u52a1\u7684\u5c5e\u6027\u914d\u7f6e\u65f6\u89e6\u53d1\u534f\u7a0b\u62a5\u9519"},"\u5728consul\u4e2d\u4fee\u6539mgmt-api\u670d\u52a1\u7684\u5c5e\u6027\u914d\u7f6e\u65f6\u89e6\u53d1\u534f\u7a0b\u62a5\u9519"),(0,n.kt)("h3",{id:"\u73b0\u8c61-1"},"\u73b0\u8c61"),(0,n.kt)("p",null,"\u4fee\u6539mgmt-scheduler\u7684task\u914d\u7f6e\u540e\u53d1\u73b0\u62a5\u9519, \u4e14\u4e0d\u4f1a\u7ee7\u7eed\u8c03\u5ea6"),(0,n.kt)("h3",{id:"\u539f\u56e0-2"},"\u539f\u56e0"),(0,n.kt)("p",null,"\u8c03\u5ea6task\u65f6\u4f1a\u904d\u5386tasks\u914d\u7f6e, \u8be5\u914d\u7f6e\u7531spring-boot\u91cc\u7684configuration-properties\u5bf9\u8c61\u63d0\u4f9b\u7684, \u904d\u5386tasks\u662f\u5e76\u53d1\u64cd\u4f5c,\n\u4e14\u5728\u6b64\u8fc7\u7a0b\u4e2d\u52a8\u6001\u4fee\u6539\u4e86tasks\u7684\u5185\u5bb9\u5bfc\u81f4\u629b\u51fa\u5f02\u5e38, \u4e14\u8be5\u5f02\u5e38\u5bfc\u81f4\u534f\u7a0b\u53d6\u6d88"),(0,n.kt)("h3",{id:"\u89e3\u51b3\u65b9\u6848-3"},"\u89e3\u51b3\u65b9\u6848"),(0,n.kt)("p",null,"\u8c03\u5ea6\u524d\u4ece\u914d\u7f6e\u4e2d\u590d\u5236\u4e00\u4efdtasks\u786e\u4fdd\u65e7\u7684tasks\u5199\u5165\u65f6\u4f7f\u7528\u65b9\u4e0d\u53d7\u5f71\u54cd"),(0,n.kt)("h3",{id:"\u5907\u6ce8-2"},"\u5907\u6ce8"),(0,n.kt)("h4",{id:"\u65e5\u5fd7"},"\u65e5\u5fd7"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"2022-11-24 10:08:27.954  INFO 1 --- [TaskScheduler-1] b.c.PropertySourceBootstrapConfiguration : Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/mgmt-scheduler/'}, BootstrapPropertySource {name='bootstrapProperties-config/application/'}]\n2022-11-24 10:08:27.968  INFO 1 --- [TaskScheduler-1] o.s.boot.SpringApplication               : No active profile set, falling back to 1 default profile: \"default\"\n2022-11-24 10:08:27.979  INFO 1 --- [TaskScheduler-1] o.s.boot.SpringApplication               : Started application in 0.244 seconds (JVM running for 7930.38)\nException in thread \"DefaultDispatcher-worker-6\" java.util.ConcurrentModificationException\n    at java.base/java.util.ArrayList$Itr.checkForComodification(ArrayList.java:1013)\n    at java.base/java.util.ArrayList$Itr.next(ArrayList.java:967)\n    at com.fastonetech.scheduling.core.ResourceDispatcher$Companion$of$1$1.invokeSuspend(ResourceDispatcher.kt:40)\n    at com.fastonetech.scheduling.core.ResourceDispatcher$Companion$of$1$1.invoke(ResourceDispatcher.kt)\n    at com.fastonetech.scheduling.core.ResourceDispatcher$Companion$of$1$1.invoke(ResourceDispatcher.kt)\n    at kotlinx.coroutines.intrinsics.UndispatchedKt.startUndispatchedOrReturn(Undispatched.kt:89)\n    at kotlinx.coroutines.CoroutineScopeKt.coroutineScope(CoroutineScope.kt:264)\n    at com.fastonetech.scheduling.core.ResourceDispatcher$Companion$of$1.dispatch(ResourceDispatcher.kt:16)\n    at com.fastonetech.scheduling.core.ResourceDispatcher$Companion$of$3.schedule(ResourceDispatcher.kt:32)\n    at com.fastonetech.scheduling.core.ResourceDispatcher$Companion$of$3.schedule(ResourceDispatcher.kt:27)\n    at com.fastonetech.scheduling.core.ResourceDispatcher$Companion$of$1$1$2$1.invokeSuspend(ResourceDispatcher.kt:19)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.internal.LimitedDispatcher.run(LimitedDispatcher.kt:42)\n    at kotlinx.coroutines.scheduling.TaskImpl.run(Tasks.kt:95)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:749)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\n    Suppressed: kotlinx.coroutines.DiagnosticCoroutineContextException: [StandaloneCoroutine{Cancelling}@19b8b4b6, Dispatchers.IO]\n\n")),(0,n.kt)("h4",{id:"reference"},"Reference"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/628938/what-is-copy-on-write"},"https://stackoverflow.com/questions/628938/what-is-copy-on-write")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://www.zhihu.com/question/19782224"},"https://www.zhihu.com/question/19782224"))),(0,n.kt)("h2",{id:"\u4fee\u6539\u96c6\u7fa4\u5b9e\u4f8b\u7684\u7f51\u7edc"},"\u4fee\u6539\u96c6\u7fa4\u5b9e\u4f8b\u7684\u7f51\u7edc"),(0,n.kt)("p",null,"\u4fee\u6539\u4e91\u5e10\u53f7\u91cc\u5173\u4e8ehead\uff0clogin\uff0ccompute\u7684\u7f51\u7edc\nSaaS\u60c5\u51b5\u4e0b\u4fee\u6539csagent\u7684\u914d\u7f6e"),(0,n.kt)("h2",{id:"cachemanager\u81ea\u52a8\u88c5\u914d\u539f\u7406\u5206\u6790"},"CacheManager\u81ea\u52a8\u88c5\u914d\u539f\u7406\u5206\u6790"),(0,n.kt)("h3",{id:"\u63cf\u8ff0"},"\u63cf\u8ff0"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u6211\u4eec\u81ea\u5df1\u7684",(0,n.kt)("inlineCode",{parentName:"li"},"SecurityAutoConfiguration"),"\u4e2d\u521b\u5efa\u7684",(0,n.kt)("inlineCode",{parentName:"li"},"EhCacheManagerFactoryBean"),"\u6240\u63d0\u4f9b\u7684Bean\u662fehcache\u5305\u4e0b\u7684",(0,n.kt)("inlineCode",{parentName:"li"},"CacheManager"),",\n\u4e0d\u662fSpring\u7684, \u7531\u4e8e@EnableCaching\u88ab\u542f\u7528\u4f46\u662f\u53c8\u6ca1\u6709",(0,n.kt)("inlineCode",{parentName:"li"},"CacheManager"),"\u4f1a\u5bfc\u81f4",(0,n.kt)("inlineCode",{parentName:"li"},"Spring-boot"),"\u81ea\u52a8\u88c5\u914d\u5de5\u4f5c",(0,n.kt)("inlineCode",{parentName:"li"},"CacheAutoConfiguration")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"SimpleCacheConfiguration"),"\u4f1a\u81ea\u52a8\u6ce8\u5165\u4e00\u4e2a\u9ed8\u8ba4\u7684",(0,n.kt)("inlineCode",{parentName:"li"},"ConcurrentMapCacheManager")),(0,n.kt)("li",{parentName:"ul"},"\u5f15\u5165redission\u540e, \u8be5\u4f9d\u8d56\u91cc\u5b9e\u73b0\u4e86",(0,n.kt)("inlineCode",{parentName:"li"},"javax.cache.spi.CachingProvider"),", \u5bfc\u81f4Spring\u7684",(0,n.kt)("inlineCode",{parentName:"li"},"JCacheCacheConfiguration"),"\n\u4f18\u5148\u7ea7\u63d0\u5347\u5e76\u5c06redission\u5b9e\u73b0\u7684JCacheCacheManager\u6ce8\u5165\u8fdb\u6765"),(0,n.kt)("li",{parentName:"ul"},"\u7136\u540e\u5f15\u5165",(0,n.kt)("inlineCode",{parentName:"li"},"ehcache3"),"\u5e93\u540e\u4f1a\u6709\u4e24\u4e2a",(0,n.kt)("inlineCode",{parentName:"li"},"javax.cache.spi.CachingProvider"),"(ehcache2\u6ca1\u652f\u6301, ehcache3\u652f\u6301\u4e86)\n\u5bfc\u81f4",(0,n.kt)("inlineCode",{parentName:"li"},"JCacheCacheConfiguration"),"\u53c8\u4e0d\u5de5\u4f5c\u4e86\u56e0\u4e3a\u6709\u591a\u4e2a",(0,n.kt)("inlineCode",{parentName:"li"},"CachingProvider"),"\u4e0d\u77e5\u9053\u7528\u54ea\u4e00\u4e2a",(0,n.kt)("inlineCode",{parentName:"li"},"multiple JSR-107 providers"))),(0,n.kt)("h3",{id:"\u89e3\u51b3\u65b9\u6848-4"},"\u89e3\u51b3\u65b9\u6848"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u81ea\u5df1\u6ce8\u5165",(0,n.kt)("inlineCode",{parentName:"li"},"ConcurrentMapCacheManager"),", Spring\u7684\u81ea\u52a8\u88c5\u914d\u8fc7\u4e8e\u590d\u6742")),(0,n.kt)("h3",{id:"\u5907\u6ce8-3"},"\u5907\u6ce8"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Cache\u81ea\u52a8\u88c5\u914d\u7684\u4f18\u5148\u7ea7\nSimpleCacheConfiguration < JCacheCacheManager")),(0,n.kt)("h2",{id:"\u5c3d\u91cf\u4f7f\u7528db\u91cc\u5b58\u50a8\u7684domain\u4fe1\u606f\u53bb\u505a\u903b\u8f91\u5904\u7406"},"\u5c3d\u91cf\u4f7f\u7528db\u91cc\u5b58\u50a8\u7684domain\u4fe1\u606f\u53bb\u505a\u903b\u8f91\u5904\u7406"),(0,n.kt)("h3",{id:"\u539f\u56e0-3"},"\u539f\u56e0"),(0,n.kt)("p",null,"\u5728request\u91cc\u7684domain\u4fe1\u606f\u53ef\u80fd\u4e3anull, \u5982\u679c\u7528request\u91cc\u7684domain\u4fe1\u606f\u53bb\u5904\u7406\u5c06\u4f1a\u5bfc\u81f4\u672a\u77e5\u7684\u9519\u8bef\u903b\u8f91"),(0,n.kt)("h2",{id:"mgmt-api\u670d\u52a1\u62a5\u9519\u83b7\u53d6\u4e0d\u5230jdbcconnection"},"mgmt-api\u670d\u52a1\u62a5\u9519\u83b7\u53d6\u4e0d\u5230JdbcConnection"),(0,n.kt)("h3",{id:"\u73b0\u8c61-2"},"\u73b0\u8c61"),(0,n.kt)("p",null,"mgmt-api\u542f\u52a8\u4e00\u6bb5\u65f6\u95f4\u540e\u65e0\u6cd5\u63a5\u53d7\u8bf7\u6c42\u62a5\u9519\u663e\u793a\u83b7\u53d6\u4e0d\u5230\u6570\u636e\u5e93\u8fde\u63a5, \u67e5\u770b\u65e5\u5fd7\u53d1\u73b0\u62a5\u9519\u4fe1\u606f\u5982\u4e0b"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-log"},"Connection is not available, request timed out after 30000ms.\n")),(0,n.kt)("h3",{id:"\u539f\u56e0-4"},"\u539f\u56e0"),(0,n.kt)("p",null,"grpc\u548cprotobuf\u7248\u672c\u4e0d\u517c\u5bb9\u5bfc\u81f4\u670d\u52a1\u51fa\u9519\u5e76\u5bfc\u81f4\u6570\u636e\u5e93\u8fde\u63a5\u6cc4\u6f0f\u5e76\u5f15\u53d1\u540e\u7eed\u7684\u6570\u636e\u5e93\u8fde\u63a5\u83b7\u53d6\u5931\u8d25, \u6682\u65f6\u65e0\u6cd5\u786e\u5b9a\u5177\u4f53\u8be6\u7ec6\u7684\u539f\u56e0\u5bfc\u81f4."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-log"},"java.lang.NoSuchMethodError: 'boolean com.google.protobuf.GeneratedMessageV3.isStringEmpty(java.lang.Object)'\n")),(0,n.kt)("h3",{id:"\u89e3\u51b3\u65b9\u6848-5"},"\u89e3\u51b3\u65b9\u6848"),(0,n.kt)("p",null,"\u4fee\u6539grpc\u548cprotobuf\u7248\u672c"),(0,n.kt)("p",null,"\u539f\u59cb\u7684\u7248\u672c"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-properties",metastring:'title="gradle.properties"',title:'"gradle.properties"'},"protobufVersion=3.15.0\ngrpcVersion=1.33.1\n")),(0,n.kt)("p",null,"\u4fee\u6539\u540e\u7684\u7248\u672c"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-properties",metastring:'title="gradle.properties"',title:'"gradle.properties"'},"protobufVersion=3.21.9\ngrpcVersion=1.51.0\n")),(0,n.kt)("h3",{id:"\u5907\u6ce8-4"},"\u5907\u6ce8"),(0,n.kt)("h4",{id:"\u65e5\u5fd7-1"},"\u65e5\u5fd7"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-log"},"2023-01-19 06:25:31.853 ERROR 1 --- [nio-4397-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.transaction.IllegalTransactionStateException: Pre-bound JDBC Connection found! JpaTransactionManager does not support running within DataSourceTransactionManager if told to manage the DataSource itself. It is recommended to use a single JpaTransactionManager for all transactions on a single DataSource, no matter whether JPA or JDBC access.] with root cause\n\norg.springframework.transaction.IllegalTransactionStateException: Pre-bound JDBC Connection found! JpaTransactionManager does not support running within DataSourceTransactionManager if told to manage the DataSource itself. It is recommended to use a single JpaTransactionManager for all transactions on a single DataSource, no matter whether JPA or JDBC access.\n    at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:400) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-5.3.12.jar:5.3.12]\n    at com.fastonetech.computecloud.api.mgmt.service.deployment.DefaultDeploymentService.inspectNottd(DefaultDeploymentService.kt:798) ~[classes/:na]\n    at com.fastonetech.computecloud.api.mgmt.controller.SchedulerController.inspectNottd(SchedulerController.kt:82) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.5.6.jar:2.5.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:769) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-log"},"2023-01-19 06:25:31.897 ERROR 1 --- [io-4397-exec-11] c.f.l.w.a.BasicRestControllerAdvice      : A business-exception occurred.\n\ncom.fastonetech.lib.core.exception.BusinessException: \u672a\u77e5\u9519\u8bef\n    at com.fastonetech.lib.core.exception.BusinessExceptionKt.catchAsBusinessException(BusinessException.kt:15) ~[fastone-core-0.1.0-SNAPSHOT.jar:na]\n    at com.fastonetech.computecloud.api.mgmt.service.deployment.DefaultDeploymentService.listRefreshable(DefaultDeploymentService.kt:120) ~[classes/:na]\n    at com.fastonetech.computecloud.api.mgmt.service.ri.ReservedInstanceService.importRI(ReservedInstanceService.kt:57) ~[classes/:na]\n    at com.fastonetech.computecloud.api.mgmt.controller.SchedulerController.importRI(SchedulerController.kt:39) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.5.6.jar:2.5.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:769) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: org.springframework.dao.InvalidDataAccessApiUsageException: No value for key [SessionImpl(331329404<open>)] bound to thread; nested exception is java.lang.IllegalStateException: No value for key [SessionImpl(331329404<open>)] bound to thread\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.data.repository.core.support.MethodInvocationValidator.invoke(MethodInvocationValidator.java:98) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.12.jar:5.3.12]\n    at jdk.proxy2/jdk.proxy2.$Proxy182.findById(Unknown Source) ~[na:na]\n    at com.fastonetech.computecloud.api.mgmt.service.deployment.DefaultDeploymentService.toDeploymentSummary(DefaultDeploymentService.kt:396) ~[classes/:na]\n    at com.fastonetech.computecloud.api.mgmt.service.deployment.DefaultDeploymentService.access$toDeploymentSummary(DefaultDeploymentService.kt:91) ~[classes/:na]\n    at com.fastonetech.computecloud.api.mgmt.service.deployment.DefaultDeploymentService$listRefreshable$1.invoke(DefaultDeploymentService.kt:121) ~[classes/:na]\n    at com.fastonetech.computecloud.api.mgmt.service.deployment.DefaultDeploymentService$listRefreshable$1.invoke(DefaultDeploymentService.kt:120) ~[classes/:na]\n    at com.fastonetech.lib.core.exception.BusinessExceptionKt.catchAsBusinessException(BusinessException.kt:18) ~[fastone-core-0.1.0-SNAPSHOT.jar:na]\n    ... 93 common frames omitted\nCaused by: java.lang.IllegalStateException: No value for key [SessionImpl(331329404<open>)] bound to thread\n    at org.springframework.transaction.support.TransactionSynchronizationManager.unbindResource(TransactionSynchronizationManager.java:198) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.support.ResourceHolderSynchronization.suspend(ResourceHolderSynchronization.java:53) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.doSuspendSynchronization(AbstractPlatformTransactionManager.java:658) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.suspend(AbstractPlatformTransactionManager.java:570) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:368) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.12.jar:5.3.12]\n    ... 107 common frames omitted\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-log"},"2023-01-19 06:25:32.443  INFO 1 --- [nio-4397-exec-1] c.f.c.a.m.s.nott.nottm.NottmService      : offsetId is :23\n2023-01-19 06:25:32.453 ERROR 1 --- [nio-4397-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: 'boolean com.google.protobuf.GeneratedMessageV3.isStringEmpty(java.lang.Object)'] with root cause\n\njava.lang.NoSuchMethodError: 'boolean com.google.protobuf.GeneratedMessageV3.isStringEmpty(java.lang.Object)'\n    at com.fastonetech.contract.nott.v1.nottm.NottmOuterClass$PollRequest.getSerializedSize(NottmOuterClass.java:8401) ~[fastone-event-nott-0.1.0-SNAPSHOT.jar:na]\n    at io.grpc.protobuf.lite.ProtoInputStream.available(ProtoInputStream.java:108) ~[grpc-protobuf-lite-1.33.1.jar:1.33.1]\n    at io.grpc.internal.MessageFramer.getKnownLength(MessageFramer.java:205) ~[grpc-core-1.33.1.jar:1.33.1]\n    at io.grpc.internal.MessageFramer.writePayload(MessageFramer.java:137) ~[grpc-core-1.33.1.jar:1.33.1]\n    at io.grpc.internal.AbstractStream.writeMessage(AbstractStream.java:65) ~[grpc-core-1.33.1.jar:1.33.1]\n    at io.grpc.internal.ForwardingClientStream.writeMessage(ForwardingClientStream.java:37) ~[grpc-core-1.33.1.jar:1.33.1]\n    at io.grpc.internal.ClientCallImpl.sendMessageInternal(ClientCallImpl.java:580) ~[grpc-core-1.33.1.jar:1.33.1]\n    at io.grpc.internal.ClientCallImpl.sendMessage(ClientCallImpl.java:564) ~[grpc-core-1.33.1.jar:1.33.1]\n    at io.grpc.kotlin.ClientCalls$Request$Unary.sendTo(ClientCalls.kt:237) ~[grpc-kotlin-stub-1.3.0.jar:na]\n    at io.grpc.kotlin.ClientCalls$rpcImpl$1$1$sender$1.invokeSuspend(ClientCalls.kt:309) ~[grpc-kotlin-stub-1.3.0.jar:na]\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33) ~[kotlin-stdlib-1.6.0.jar:1.6.0-release-798(1.6.0)]\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106) ~[kotlinx-coroutines-core-jvm-1.5.2.jar:na]\n    at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:274) ~[kotlinx-coroutines-core-jvm-1.5.2.jar:na]\n    at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85) ~[kotlinx-coroutines-core-jvm-1.5.2.jar:na]\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59) ~[kotlinx-coroutines-core-jvm-1.5.2.jar:na]\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source) ~[kotlinx-coroutines-core-jvm-1.5.2.jar:na]\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38) ~[kotlinx-coroutines-core-jvm-1.5.2.jar:na]\n    at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source) ~[kotlinx-coroutines-core-jvm-1.5.2.jar:na]\n    at com.fastonetech.computecloud.api.mgmt.service.quota.DeploymentQuotaServiceImpl.listNottmQuotaRes(DeploymentQuotaServiceImpl.kt:192) ~[classes/:na]\n    at com.fastonetech.computecloud.api.mgmt.controller.SchedulerController.list(SchedulerController.kt:74) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.5.6.jar:2.5.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:769) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n    Suppressed: io.grpc.StatusException: CANCELLED: Client sendMessage() failed with Error\n        at io.grpc.Status.asException(Status.java:549) ~[grpc-api-1.33.1.jar:1.33.1]\n        at io.grpc.kotlin.ClientCalls$rpcImpl$1$1$1.onClose(ClientCalls.kt:296) ~[grpc-kotlin-stub-1.3.0.jar:na]\n        at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617) ~[grpc-core-1.33.1.jar:1.33.1]\n        at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.33.1.jar:1.33.1]\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803) ~[grpc-core-1.33.1.jar:1.33.1]\n        at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782) ~[grpc-core-1.33.1.jar:1.33.1]\n        at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.33.1.jar:1.33.1]\n        at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) ~[grpc-core-1.33.1.jar:1.33.1]\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n        ... 1 common frames omitted\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-log"},"2023-01-19 06:17:01.853 ERROR 1 --- [nio-4397-exec-1] c.f.l.w.a.BasicRestControllerAdvice      : A business-exception occurred.\n    ... 143 common frames omitted\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:108) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:162) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:197) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696) ~[HikariCP-4.0.3.jar:na]\nCaused by: java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 30000ms.\n    ... 105 common frames omitted\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n    at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1604) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1636) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.Loader.list(Loader.java:2652) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2657) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2825) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.Loader.doList(Loader.java:2843) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.Loader.doQuery(Loader.java:948) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2012) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2034) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:2097) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:151) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:149) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:50) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:138) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:111) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\nCaused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\n    ... 93 common frames omitted\n    at com.fastonetech.lib.core.exception.BusinessExceptionKt.catchAsBusinessException(BusinessException.kt:18) ~[fastone-core-0.1.0-SNAPSHOT.jar:na]\n    at com.fastonetech.computecloud.api.mgmt.service.deployment.DefaultDeploymentService$listRefreshable$1.invoke(DefaultDeploymentService.kt:120) ~[classes/:na]\n    at com.fastonetech.computecloud.api.mgmt.service.deployment.DefaultDeploymentService$listRefreshable$1.invoke(DefaultDeploymentService.kt:121) ~[classes/:na]\n    at jdk.proxy2/jdk.proxy2.$Proxy179.findByProduct(Unknown Source) ~[na:na]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.data.repository.core.support.MethodInvocationValidator.invoke(MethodInvocationValidator.java:98) ~[spring-data-commons-2.5.6.jar:2.5.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.6.jar:2.5.6]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.12.jar:5.3.12]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.12.jar:5.3.12]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:255) ~[spring-orm-5.3.12.jar:5.3.12]\nCaused by: org.springframework.dao.DataAccessResourceFailureException: Unable to acquire JDBC Connection; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:769) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.5.6.jar:2.5.6]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.54.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.12.jar:5.3.12]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.12.jar:5.3.12]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at com.fastonetech.computecloud.api.mgmt.controller.SchedulerController.lifecycle(SchedulerController.kt:49) ~[classes/:na]\n    at com.fastonetech.computecloud.api.mgmt.service.event.LifecycleEventHandler.consume(LifecycleEventHandler.kt:33) ~[classes/:na]\n    at com.fastonetech.computecloud.api.mgmt.service.deployment.DefaultDeploymentService.listRefreshable(DefaultDeploymentService.kt:120) ~[classes/:na]\n    at com.fastonetech.lib.core.exception.BusinessExceptionKt.catchAsBusinessException(BusinessException.kt:15) ~[fastone-core-0.1.0-SNAPSHOT.jar:na]\ncom.fastonetech.lib.core.exception.BusinessException: \u672a\u77e5\u9519\u8bef\n")),(0,n.kt)("h2",{id:"fastone-api\u670d\u52a1\u5347\u7ea7spring-boot3\u540e\u4f7f\u7528token\u8bf7\u6c42\u4fdd\u62a4\u8d44\u6e90\u62a5\u9519"},"fastone-api\u670d\u52a1\u5347\u7ea7spring-boot3\u540e\u4f7f\u7528Token\u8bf7\u6c42\u4fdd\u62a4\u8d44\u6e90\u62a5\u9519"),(0,n.kt)("h3",{id:"\u73b0\u8c61-3"},"\u73b0\u8c61"),(0,n.kt)("p",null,"\u4f7f\u7528Token\u8bf7\u6c42\u4fdd\u62a4\u8d44\u6e90\u62a5\u9519401"),(0,n.kt)("h3",{id:"\u89e3\u51b3\u65b9\u6848-6"},"\u89e3\u51b3\u65b9\u6848"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"http.securityContext().requireExplicitSave(false).and()")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"http.securityContext().securityContextRepository(new HttpSessionSecurityContextRepository()).and()"))),(0,n.kt)("h3",{id:"\u5907\u6ce8-5"},"\u5907\u6ce8"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"spring6\u4e4b\u540eSecurityContextHolderFilter\u66ff\u6362\u4e86SecurityContextPersistenceFilter",(0,n.kt)("br",null),"\nSecurityContextRepository\u9ed8\u8ba4\u5b9e\u73b0\u4e5f\u53d8\u4e86",(0,n.kt)("br",null),"\n(HttpSessionSecurityContextRepository) -> (RequestAttributeSecurityContextRepository)",(0,n.kt)("br",null))),(0,n.kt)("h4",{id:"\u53c2\u8003"},"\u53c2\u8003"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/74629234/spring-security-6-customauthenticationfilterintend-to-replace-the-usernamepassw"},"Spring Security 6 CustomAuthenticationFilter(intend to replace the UsernamePasswordAuthenticationFilter) does not work")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/spring-projects/spring-security/issues/11110"},"Default to SecurityContextHolderFilter instead of SecurityContextPersistenceFilter #11110"))),(0,n.kt)("h2",{id:"cc\u4e9a\u592a\u4e8c\u533a\u4efb\u52a1\u6267\u884c\u5931\u8d25-\u6ca1\u6709\u8f93\u51fa"},"CC\u4e9a\u592a\u4e8c\u533a\u4efb\u52a1\u6267\u884c\u5931\u8d25, \u6ca1\u6709\u8f93\u51fa"),(0,n.kt)("h3",{id:"\u73b0\u8c61-4"},"\u73b0\u8c61"),(0,n.kt)("p",null,"\u6267\u884c\u4ee5\u4e0b\u4efb\u52a1\u5747\u5931\u8d25"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"lammps-cpu"),(0,n.kt)("li",{parentName:"ul"},"lammps-gpu"),(0,n.kt)("li",{parentName:"ul"},"abaqus"),(0,n.kt)("li",{parentName:"ul"},"AutoDock-Vina")),(0,n.kt)("h3",{id:"\u539f\u56e0-5"},"\u539f\u56e0"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"fastone-scheduler"),"\u8c03\u5ea6\u4efb\u52a1\u65f6\u6267\u884cchown\u547d\u4ee4\u5931\u8d25, \u62a5\u9519\u5185\u5bb9\u5982\u4e0b"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-log"},"chown: cannot access '/fastone/users/u17638503879/jobs/job-886': No such file or directory\n")),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"juicefs"),"mount",(0,n.kt)("inlineCode",{parentName:"p"},"/fastone"),"\u76ee\u5f55\u665a\u4e8e",(0,n.kt)("inlineCode",{parentName:"p"},"fastone-scheduler"),"\u542f\u52a8\u5bfc\u81f4\u4f7f\u7528\u7684\u4e0d\u662f\u540c\u4e00\u4e2a",(0,n.kt)("inlineCode",{parentName:"p"},"/fastone"),"\u6302\u8f7d"),(0,n.kt)("h3",{id:"\u89e3\u51b3\u65b9\u6848-7"},"\u89e3\u51b3\u65b9\u6848"),(0,n.kt)("p",null,"\u6709\u4ee5\u4e0b\u4e24\u79cd\u89e3\u51b3\u65b9\u6848"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u628a",(0,n.kt)("inlineCode",{parentName:"li"},"docker mount"),"\u6539\u4e3arslave, \u8fd9\u6837\u53ef\u4ee5\u786e\u4fdd\u5bbf\u4e3b\u673a\u548c\u5bb9\u5668\u4f7f\u7528\u7684\u662f\u540c\u4e00\u4e2a\u6302\u8f7d"),(0,n.kt)("li",{parentName:"ol"},"\u7b49",(0,n.kt)("inlineCode",{parentName:"li"},"juicefs"),"\u6302\u8f7d\u5b8c\u6210\u540e\u518d\u542f\u52a8fastone-scheduler")),(0,n.kt)("h3",{id:"\u6392\u67e5\u6b65\u9aa4-1"},"\u6392\u67e5\u6b65\u9aa4"),(0,n.kt)("p",null,"\u5728\u5bbf\u4e3b\u673a\u548c\u5bb9\u5668\u4e2d\u5206\u522b\u6267\u884cls\u89c2\u5bdf\u7ed3\u679c"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"ubuntu@head-1:~$ ls /fastone/users/\ntests  u17638503879\nubuntu@head-1:~$ docker exec -it fastone-scheduler ls /fastone/users\ntest\n")),(0,n.kt)("p",null,"\u53d1\u73b0\u7ed3\u679c\u4e0d\u4e00\u81f4, \u5f00\u59cb\u540e\u7eed\u63a8\u6d4b"),(0,n.kt)("h3",{id:"1-\u63a8\u6d4b\u4e3ajuice\u4e3afuse\u548cdocker-mount\u4e0d\u517c\u5bb9"},"1. \u63a8\u6d4b\u4e3ajuice\u4e3afuse\u548cdocker mount\u4e0d\u517c\u5bb9"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u6267\u884cdocker inspect\u83b7\u53d6\u5bb9\u5668\u4fe1\u606f")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'[\n    {\n        "Id": "664cff406bd27e6406b6f356b914f726a5b7ed9d6be37ac1242a2730e344118a",\n        "Created": "2023-02-07T04:02:21.790326525Z",\n        "Path": "java",\n        "Args": [\n            "-cp",\n            "/app/resources:/app/classes:/app/libs/*",\n            "com.fastonetech.scheduler.SchedulerApplication"\n        ],\n        "State": {\n            "Status": "running",\n            "Running": true,\n            "Paused": false,\n            "Restarting": false,\n            "OOMKilled": false,\n            "Dead": false,\n            "Pid": 11614,\n            "ExitCode": 0,\n            "Error": "",\n            "StartedAt": "2023-02-07T04:02:22.053512527Z",\n            "FinishedAt": "0001-01-01T00:00:00Z"\n        },\n        "Image": "sha256:390bb12d9d07facd4ecf8987ccc0f1de6484d1f88dfeca239b3e234dbefd6acf",\n        "ResolvConfPath": "/etc/resolv.conf",\n        "HostnamePath": "/var/lib/docker/containers/664cff406bd27e6406b6f356b914f726a5b7ed9d6be37ac1242a2730e344118a/hostname",\n        "HostsPath": "/var/lib/docker/containers/664cff406bd27e6406b6f356b914f726a5b7ed9d6be37ac1242a2730e344118a/hosts",\n        "LogPath": "/var/lib/docker/containers/664cff406bd27e6406b6f356b914f726a5b7ed9d6be37ac1242a2730e344118a/664cff406bd27e6406b6f356b914f726a5b7ed9d6be37ac1242a2730e344118a-json.log",\n        "Name": "/fastone-scheduler",\n        "RestartCount": 0,\n        "Driver": "overlay2",\n        "Platform": "linux",\n        "MountLabel": "",\n        "ProcessLabel": "",\n        "AppArmorProfile": "docker-default",\n        "ExecIDs": null,\n        "HostConfig": {\n            "Binds": [\n                "/var/run/munge:/var/run/munge:ro",\n                "/var/run/docker.sock:/var/run/docker.sock:ro",\n                "/home/fastone/.ssh/id_rsa:/home/fastone/.ssh/id_rsa:ro",\n                "/fastone:/fastone",\n                "/etc/fastone/scheduler:/etc/fastone/scheduler",\n                "/etc/resolv.conf:/etc/resolv.conf:ro"\n            ],\n            "ContainerIDFile": "",\n            "LogConfig": {\n                "Type": "json-file",\n                "Config": {}\n            },\n            "NetworkMode": "host",\n            "PortBindings": {},\n            "RestartPolicy": {\n                "Name": "always",\n                "MaximumRetryCount": 0\n            },\n            "AutoRemove": false,\n            "VolumeDriver": "",\n            "VolumesFrom": null,\n            "CapAdd": null,\n            "CapDrop": null,\n            "CgroupnsMode": "host",\n            "Dns": [],\n            "DnsOptions": [],\n            "DnsSearch": [],\n            "ExtraHosts": null,\n            "GroupAdd": null,\n            "IpcMode": "private",\n            "Cgroup": "",\n            "Links": null,\n            "OomScoreAdj": 0,\n            "PidMode": "",\n            "Privileged": false,\n            "PublishAllPorts": false,\n            "ReadonlyRootfs": false,\n            "SecurityOpt": null,\n            "UTSMode": "",\n            "UsernsMode": "",\n            "ShmSize": 67108864,\n            "Runtime": "runc",\n            "ConsoleSize": [\n                0,\n                0\n            ],\n            "Isolation": "",\n            "CpuShares": 0,\n            "Memory": 0,\n            "NanoCpus": 0,\n            "CgroupParent": "",\n            "BlkioWeight": 0,\n            "BlkioWeightDevice": [],\n            "BlkioDeviceReadBps": null,\n            "BlkioDeviceWriteBps": null,\n            "BlkioDeviceReadIOps": null,\n            "BlkioDeviceWriteIOps": null,\n            "CpuPeriod": 0,\n            "CpuQuota": 0,\n            "CpuRealtimePeriod": 0,\n            "CpuRealtimeRuntime": 0,\n            "CpusetCpus": "",\n            "CpusetMems": "",\n            "Devices": [],\n            "DeviceCgroupRules": null,\n            "DeviceRequests": null,\n            "KernelMemory": 0,\n            "KernelMemoryTCP": 0,\n            "MemoryReservation": 0,\n            "MemorySwap": 0,\n            "MemorySwappiness": null,\n            "OomKillDisable": false,\n            "PidsLimit": null,\n            "Ulimits": null,\n            "CpuCount": 0,\n            "CpuPercent": 0,\n            "IOMaximumIOps": 0,\n            "IOMaximumBandwidth": 0,\n            "MaskedPaths": [\n                "/proc/asound",\n                "/proc/acpi",\n                "/proc/kcore",\n                "/proc/keys",\n                "/proc/latency_stats",\n                "/proc/timer_list",\n                "/proc/timer_stats",\n                "/proc/sched_debug",\n                "/proc/scsi",\n                "/sys/firmware"\n            ],\n            "ReadonlyPaths": [\n                "/proc/bus",\n                "/proc/fs",\n                "/proc/irq",\n                "/proc/sys",\n                "/proc/sysrq-trigger"\n            ]\n        },\n        "GraphDriver": {\n            "Data": {\n                "LowerDir": "/var/lib/docker/overlay2/3904d677bc7e22664ba5537749ead6826c9b0fd345f0845bfb162ed5175a3d27-init/diff:/var/lib/docker/overlay2/c110304affe06c98c093f5c61ce7e9877fbd2b865efde5f1fb59b23de47c83d0/diff:/var/lib/docker/overlay2/a962a99e8ea6b2d0e609e1d7e18e01c9d6b635ac3d3f0c4114c2260a774c502f/diff:/var/lib/docker/overlay2/5ebd33136f9384c49c21a5d09742a798ccb3ee73d2a022370ca10af95b426e4d/diff:/var/lib/docker/overlay2/b1e9ac16c1d694e57e3c3dbf07159943d4f8952f00922b9f3f975da5a6ea82de/diff:/var/lib/docker/overlay2/5fc2b15bb0e0164ef375185c04a5a62047801c3ae1fb1432f599de0dc633192d/diff:/var/lib/docker/overlay2/8ebe08e114672a8939b3fffd3bef39817d8b8809f31a1c7dfda0a732f372b239/diff:/var/lib/docker/overlay2/cf300a36b69d34dcaa0c1e20d33b47714031b4f320545bdc68abb7e5ea0d6a5a/diff:/var/lib/docker/overlay2/aab22cfe1a0cb9fae8a66e9d6be2e91937f2740e68ea86aad51905fb7de3fed3/diff",\n                "MergedDir": "/var/lib/docker/overlay2/3904d677bc7e22664ba5537749ead6826c9b0fd345f0845bfb162ed5175a3d27/merged",\n                "UpperDir": "/var/lib/docker/overlay2/3904d677bc7e22664ba5537749ead6826c9b0fd345f0845bfb162ed5175a3d27/diff",\n                "WorkDir": "/var/lib/docker/overlay2/3904d677bc7e22664ba5537749ead6826c9b0fd345f0845bfb162ed5175a3d27/work"\n            },\n            "Name": "overlay2"\n        },\n        "Mounts": [\n            {\n                "Type": "bind",\n                "Source": "/fastone",\n                "Destination": "/fastone",\n                "Mode": "",\n                "RW": true,\n                "Propagation": "rprivate"\n            },\n            {\n                "Type": "bind",\n                "Source": "/etc/fastone/scheduler",\n                "Destination": "/etc/fastone/scheduler",\n                "Mode": "",\n                "RW": true,\n                "Propagation": "rprivate"\n            },\n            {\n                "Type": "bind",\n                "Source": "/etc/resolv.conf",\n                "Destination": "/etc/resolv.conf",\n                "Mode": "ro",\n                "RW": false,\n                "Propagation": "rprivate"\n            },\n            {\n                "Type": "bind",\n                "Source": "/var/run/munge",\n                "Destination": "/var/run/munge",\n                "Mode": "ro",\n                "RW": false,\n                "Propagation": "rprivate"\n            },\n            {\n                "Type": "bind",\n                "Source": "/var/run/docker.sock",\n                "Destination": "/var/run/docker.sock",\n                "Mode": "ro",\n                "RW": false,\n                "Propagation": "rprivate"\n            },\n            {\n                "Type": "bind",\n                "Source": "/home/fastone/.ssh/id_rsa",\n                "Destination": "/home/fastone/.ssh/id_rsa",\n                "Mode": "ro",\n                "RW": false,\n                "Propagation": "rprivate"\n            }\n        ],\n        "Config": {\n            "Hostname": "head-1",\n            "Domainname": "",\n            "User": "",\n            "AttachStdin": false,\n            "AttachStdout": false,\n            "AttachStderr": false,\n            "Tty": false,\n            "OpenStdin": false,\n            "StdinOnce": false,\n            "Env": [\n                "scheduler.pam=true",\n                "scheduler.systems[0]=SLURM",\n                "PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin",\n                "LANGUAGE=en_US:en",\n                "LC_ALL=en_US.UTF-8",\n                "JAVA_HOME=/opt/java/openjdk",\n                "JAVA_VERSION=jdk-11.0.11+9",\n                "LANG=en_US.UTF-8",\n                "spring.profiles.active=prod"\n            ],\n            "Cmd": null,\n            "Image": "r.fastonetech.com:5000/fastone-scheduler:latest",\n            "Volumes": {},\n            "WorkingDir": "",\n            "Entrypoint": [\n                "java",\n                "-cp",\n                "/app/resources:/app/classes:/app/libs/*",\n                "com.fastonetech.scheduler.SchedulerApplication"\n            ],\n            "OnBuild": null,\n            "Labels": {}\n        },\n        "NetworkSettings": {\n            "Bridge": "",\n            "SandboxID": "03fb455a1a1a89fcbbed005b85e823a344c59598b00de720f369ff7148607108",\n            "HairpinMode": false,\n            "LinkLocalIPv6Address": "",\n            "LinkLocalIPv6PrefixLen": 0,\n            "Ports": {},\n            "SandboxKey": "/var/run/docker/netns/default",\n            "SecondaryIPAddresses": null,\n            "SecondaryIPv6Addresses": null,\n            "EndpointID": "",\n            "Gateway": "",\n            "GlobalIPv6Address": "",\n            "GlobalIPv6PrefixLen": 0,\n            "IPAddress": "",\n            "IPPrefixLen": 0,\n            "IPv6Gateway": "",\n            "MacAddress": "",\n            "Networks": {\n                "host": {\n                    "IPAMConfig": null,\n                    "Links": null,\n                    "Aliases": null,\n                    "NetworkID": "c458a4e224d2abf50c989f2110f780e1b7e55197b2e97e2c488f29d11d8ef785",\n                    "EndpointID": "3a4928fd34531d2a70506559be444ebd61fca6df4d977a97d9906fb265730322",\n                    "Gateway": "",\n                    "IPAddress": "",\n                    "IPPrefixLen": 0,\n                    "IPv6Gateway": "",\n                    "GlobalIPv6Address": "",\n                    "GlobalIPv6PrefixLen": 0,\n                    "MacAddress": "",\n                    "DriverOpts": null\n                }\n            }\n        }\n    }\n]\n')),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u6839\u636e\u8be5\u7ed3\u679c\u8f93\u51fa\u5185\u5bb9\u751f\u6210docker run\u547d\u4ee4")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"docker run -d --name fastone-scheduler-2 \\\n--network host \\\n--restart always \\\n-v /fastone:/fastone \\\n-v /etc/fastone/scheduler:/etc/fastone/scheduler \\\n-v /etc/resolv.conf:/etc/resolv.conf:ro \\\n-v /var/run/munge:/var/run/munge:ro \\\n-v /var/run/docker.sock:/var/run/docker.sock:ro \\\n-v /home/fastone/.ssh/id_rsa:/home/fastone/.ssh/id_rsa:ro \\\n-e scheduler.pam=true \\\n-e scheduler.systems[0]=SLURM \\\n-e PATH=/opt/java/openjdk/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin \\\n-e LANGUAGE=en_US:en \\\n-e LC_ALL=en_US.UTF-8 \\\n-e JAVA_HOME=/opt/java/openjdk \\\n-e JAVA_VERSION=jdk-11.0.11+9 \\\n-e LANG=en_US.UTF-8 \\\n-e spring.profiles.active=prod \\\nr.fastonetech.com:5000/fastone-scheduler:latest\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u6267\u884cls\u547d\u4ee4\u540e\u53d1\u73b0\u6587\u4ef6\u548c\u5bbf\u4e3b\u673a\u4e00\u81f4, \u63a8\u6d4b\u6709\u95ee\u9898")),(0,n.kt)("h3",{id:"2-\u5bb9\u5668\u5916\u7684mount\u665a\u4e8e\u521b\u5efa\u5bb9\u5668\u65f6\u521b\u5efa\u7684mount\u5bfc\u81f4\u6587\u4ef6\u4e0d\u4e00\u81f4"},"2. \u5bb9\u5668\u5916\u7684Mount\u665a\u4e8e\u521b\u5efa\u5bb9\u5668\u65f6\u521b\u5efa\u7684Mount\u5bfc\u81f4\u6587\u4ef6\u4e0d\u4e00\u81f4"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u89c2\u5bdfjuicefs\u7684log")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-log"},"2023/02/07 04:02:43.868479 juicefs[12345] <INFO>: Meta address: tikv://fastone-tikv-0:2379,fastone-tikv-1:2379,fastone-tikv-2:2379/1622436422965399552 [interface.go:402]\n2023/02/07 04:02:43.890111 juicefs[12345] <INFO>: Data use s3://dev-juicefs/1622436422965399552/ [mount.go:428]\n2023/02/07 04:02:43.891819 juicefs[12345] <INFO>: Disk cache (/var/jfsCache/e28730be-605e-4e85-967e-4352484bba38/): capacity (204800 MB), free ratio (10%), max pending pages (15) [disk_cache.go:94]\n2023/02/07 04:02:43.997130 juicefs[12352] <INFO>: Meta address: tikv://fastone-tikv-0:2379,fastone-tikv-1:2379,fastone-tikv-2:2379/1622436422965399552 [interface.go:402]\n2023/02/07 04:02:44.016998 juicefs[12352] <INFO>: Data use s3://dev-juicefs/1622436422965399552/ [mount.go:428]\n2023/02/07 04:02:44.017308 juicefs[12352] <INFO>: Disk cache (/var/jfsCache/e28730be-605e-4e85-967e-4352484bba38/): capacity (204800 MB), free ratio (10%), max pending pages (15) [disk_cache.go:94]\n2023/02/07 04:02:44.024936 juicefs[12352] <INFO>: Create session 40 OK with version: 1.0.3+2022-12-27.e4bf15a [base.go:275]\n2023/02/07 04:02:44.026162 juicefs[12352] <INFO>: Prometheus metrics listening on 127.0.0.1:9567 [mount.go:161]\n2023/02/07 04:02:44.027034 juicefs[12352] <INFO>: Add fuse.juicefs into PRUNEFS of /etc/updatedb.conf [mount_unix.go:167]\n2023/02/07 04:02:44.027083 juicefs[12352] <INFO>: Mounting volume 1622436422965399552 at /fastone ... [mount_unix.go:181]\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u89c2\u5bdffastone-scheduler\u7684\u65e5\u5fd7")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-log"},"  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.5.4)\n\n2023-02-07 04:02:24.874  INFO 1 --- [  restartedMain] c.f.scheduler.SchedulerApplication       : Starting SchedulerApplication using Java 11.0.11 on head-1 with PID 1 (/app/classes started by root in /)\n2023-02-07 04:02:24.877 DEBUG 1 --- [  restartedMain] c.f.scheduler.SchedulerApplication       : Running with Spring Boot v2.5.4, Spring v5.3.9\n2023-02-07 04:02:24.878  INFO 1 --- [  restartedMain] c.f.scheduler.SchedulerApplication       : The following profiles are active: prod\n2023-02-07 04:02:24.997  INFO 1 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-02-07 04:02:24.998  INFO 1 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-02-07 04:02:26.538 DEBUG 1 --- [  restartedMain] .c.c.r.AbstractAutoScanPackagesRegistrar : Using Auto-Configuration Base Package 'com.fastonetech.scheduler'\n2023-02-07 04:02:26.540 DEBUG 1 --- [  restartedMain] .c.c.r.AbstractAutoScanPackagesRegistrar : Using Auto-Configuration Base Package 'com.fastonetech.common.api'\n2023-02-07 04:02:26.611 DEBUG 1 --- [  restartedMain] .c.c.r.AbstractAutoScanPackagesRegistrar : Using Auto-Configuration Base Package 'com.fastonetech.common.security'\n2023-02-07 04:02:26.646 DEBUG 1 --- [  restartedMain] .c.c.r.AbstractAutoScanPackagesRegistrar : Using Auto-Configuration Base Package 'com.fastonetech.common.ssh'\n2023-02-07 04:02:27.218  INFO 1 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-02-07 04:02:27.663  INFO 1 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 435 ms. Found 6 JPA repository interfaces.\n2023-02-07 04:02:28.444  INFO 1 --- [  restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a58c266f-73aa-30b8-81fe-4dc36b7df78e\n2023-02-07 04:02:28.675  INFO 1 --- [  restartedMain] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances\n2023-02-07 04:02:28.677  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource\n2023-02-07 04:02:28.677  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource\n2023-02-07 04:02:28.678  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource\n2023-02-07 04:02:28.684  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper\n2023-02-07 04:02:28.684  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper\n2023-02-07 04:02:28.684  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper\n2023-02-07 04:02:28.685  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource cachedrandom [org.springframework.cloud.util.random.CachedRandomPropertySource] to EncryptablePropertySourceWrapper\n2023-02-07 04:02:28.685  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource springCloudClientHostInfo [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper\n2023-02-07 04:02:28.685  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-prod.yml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper\n2023-02-07 04:02:28.685  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper\n2023-02-07 04:02:28.685  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource devtools [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper\n2023-02-07 04:02:28.987  INFO 1 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5038bfd7' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-02-07 04:02:29.009  INFO 1 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-02-07 04:02:29.219  INFO 1 --- [  restartedMain] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter\n2023-02-07 04:02:29.229  INFO 1 --- [  restartedMain] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver\n2023-02-07 04:02:29.233  INFO 1 --- [  restartedMain] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector\n2023-02-07 04:02:30.027  INFO 1 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 7000 (http)\n2023-02-07 04:02:30.044  INFO 1 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-02-07 04:02:30.047  INFO 1 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.52]\n2023-02-07 04:02:30.222  INFO 1 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-02-07 04:02:30.223  INFO 1 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5225 ms\n2023-02-07 04:02:30.704  INFO 1 --- [  restartedMain] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 7.7.3 by Redgate\n2023-02-07 04:02:30.730  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-02-07 04:02:30.893  INFO 1 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-02-07 04:02:30.942  INFO 1 --- [  restartedMain] o.f.c.i.database.base.DatabaseType       : Database: jdbc:postgresql://127.0.0.1:5432/scheduler (PostgreSQL 12.6)\n2023-02-07 04:02:31.004  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbValidate     : Successfully validated 10 migrations (execution time 00:00.038s)\n2023-02-07 04:02:31.023  INFO 1 --- [  restartedMain] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table \"public\".\"flyway_schema_history\" ...\n2023-02-07 04:02:31.063  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.069  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.072  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.084  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Current version of schema \"public\": << Empty Schema >>\n2023-02-07 04:02:31.127  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema \"public\" to version \"1 - create\"\n2023-02-07 04:02:31.137  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.143  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.149  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.155  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.164  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.171  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.178  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.189  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.197  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.200  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.206  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.212  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.215  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.218  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.220  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.221  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.223  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.225  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.226  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.228  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.229  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.230  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.232  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.233  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.237  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.252  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema \"public\" to version \"1.1.0.1 - changeDeployMode\"\n2023-02-07 04:02:31.260  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.272  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema \"public\" to version \"1.1.0.2 - UserTypeDefault\"\n2023-02-07 04:02:31.273  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.280  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema \"public\" to version \"1.1.0.3 - job app definition\"\n2023-02-07 04:02:31.281  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.291  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema \"public\" to version \"1.1.0.4 - add phone column to users\"\n2023-02-07 04:02:31.293  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.294  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.304  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema \"public\" to version \"1.1.0.5 - user state extension\"\n2023-02-07 04:02:31.305  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.305  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.306  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.306  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.308  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.315  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema \"public\" to version \"1.1.0.6 - user add params\"\n2023-02-07 04:02:31.316  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.329  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema \"public\" to version \"1.1.0.7 - create user group\"\n2023-02-07 04:02:31.335  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.338  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.343  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema \"public\" to version \"1.1.0.8 - add monitors\"\n2023-02-07 04:02:31.350  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.355  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema \"public\" to version \"1.1.0.9 - alter user for login shell\"\n2023-02-07 04:02:31.356  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.356  INFO 1 --- [  restartedMain] o.f.c.i.s.DefaultSqlScriptExecutor       : 0 rows affected\n2023-02-07 04:02:31.360  INFO 1 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : Successfully applied 10 migrations to schema \"public\", now at version v1.1.0.9 (execution time 00:00.281s)\n2023-02-07 04:02:31.628  INFO 1 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-02-07 04:02:31.732  INFO 1 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.32.Final\n2023-02-07 04:02:32.055  INFO 1 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2023-02-07 04:02:32.249  INFO 1 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL10Dialect\n2023-02-07 04:02:34.028  INFO 1 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-02-07 04:02:34.040  INFO 1 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-02-07 04:02:35.396  WARN 1 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-02-07 04:02:35.522 DEBUG 1 --- [  restartedMain] c.f.c.s.filter.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use\n2023-02-07 04:02:36.371  INFO 1 --- [  restartedMain] c.f.common.ssh.client.SshClientDelegate  : $ sudo ls\n2023-02-07 04:02:37.431  INFO 1 --- [  restartedMain] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor\n2023-02-07 04:02:37.452  INFO 1 --- [  restartedMain] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.algorithm, using default value: PBEWITHHMACSHA512ANDAES_256\n2023-02-07 04:02:37.453  INFO 1 --- [  restartedMain] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000\n2023-02-07 04:02:37.454  INFO 1 --- [  restartedMain] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1\n2023-02-07 04:02:37.454  INFO 1 --- [  restartedMain] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null\n2023-02-07 04:02:37.455  INFO 1 --- [  restartedMain] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null\n2023-02-07 04:02:37.456  INFO 1 --- [  restartedMain] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator\n2023-02-07 04:02:37.457  INFO 1 --- [  restartedMain] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator\n2023-02-07 04:02:37.459  INFO 1 --- [  restartedMain] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64\n2023-02-07 04:02:40.538  INFO 1 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 17 endpoint(s) beneath base path '/actuator'\n2023-02-07 04:02:41.218  INFO 1 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-02-07 04:02:41.877  INFO 1 --- [  restartedMain] c.f.c.s.c.SecurityConfiguration          : auth provider is ::LOCAL\n2023-02-07 04:02:41.889  INFO 1 --- [  restartedMain] c.f.c.s.c.SecurityConfiguration          : return daoAuthenticationProvider\n2023-02-07 04:02:42.017  INFO 1 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58232e41, org.springframework.security.web.context.SecurityContextPersistenceFilter@463767db, org.springframework.security.web.header.HeaderWriterFilter@4241075c, org.springframework.web.filter.CorsFilter@2d0728f1, org.springframework.security.web.authentication.logout.LogoutFilter@5458b0a7, com.fastonetech.common.security.filter.JwtAuthenticationFilter@29b49ce5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@47bef5aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6408c485, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d217ddd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19adbf1c, org.springframework.security.web.session.SessionManagementFilter@2977d010, org.springframework.security.web.access.ExceptionTranslationFilter@487e11bc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2847bb14]\n2023-02-07 04:02:42.258  INFO 1 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 7000 (http) with context path ''\n2023-02-07 04:02:42.262  INFO 1 --- [  restartedMain] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent\n2023-02-07 04:02:42.262  INFO 1 --- [  restartedMain] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed\n2023-02-07 04:02:42.262  INFO 1 --- [  restartedMain] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed\n2023-02-07 04:02:42.262  INFO 1 --- [  restartedMain] CachingDelegateEncryptablePropertySource : Property Source random refreshed\n2023-02-07 04:02:42.262  INFO 1 --- [  restartedMain] CachingDelegateEncryptablePropertySource : Property Source cachedrandom refreshed\n2023-02-07 04:02:42.262  INFO 1 --- [  restartedMain] CachingDelegateEncryptablePropertySource : Property Source springCloudClientHostInfo refreshed\n2023-02-07 04:02:42.263  INFO 1 --- [  restartedMain] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-prod.yml]' via location 'optional:classpath:/' refreshed\n2023-02-07 04:02:42.264  INFO 1 --- [  restartedMain] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yml]' via location 'optional:classpath:/' refreshed\n2023-02-07 04:02:42.264  INFO 1 --- [  restartedMain] CachingDelegateEncryptablePropertySource : Property Source devtools refreshed\n2023-02-07 04:02:42.264  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource server.ports [org.springframework.core.env.MapPropertySource] to EncryptableMapPropertySourceWrapper\n2023-02-07 04:02:42.264  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource\n2023-02-07 04:02:42.264  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource\n2023-02-07 04:02:42.265  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper\n2023-02-07 04:02:42.265  INFO 1 --- [  restartedMain] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Management Server [org.springframework.boot.actuate.autoconfigure.web.server.ManagementContextAutoConfiguration$SameManagementContextConfiguration$1] to EncryptablePropertySourceWrapper\n2023-02-07 04:02:43.785  INFO 1 --- [  restartedMain] c.f.scheduler.SchedulerApplication       : Started SchedulerApplication in 19.989 seconds (JVM running for 21.654)\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"juice\u6302\u8f7d\u65f6\u95f4\u8fc7\u665a\u5bfc\u81f4fastone-scheduler\u6ca1\u6709\u5171\u4eab\u5230\u5bf9\u5e94mount")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"juicefs\u6302\u8f7d\u65f6\u95f4",(0,n.kt)("br",null),"\n2023/02/07 04:02:44.027083 juicefs\nfastone-scheduler\u542f\u52a8\u65f6\u95f4",(0,n.kt)("br",null),"\n2023-02-07 04:02:24.874")),(0,n.kt)("h3",{id:"\u53c2\u8003-1"},"\u53c2\u8003"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.docker.com/storage/bind-mounts/#configure-bind-propagation"},"Docker bind propagation")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://juicefs.com/docs/cloud/reference/commands_reference/#mount"},"Juicefs mount"))),(0,n.kt)("h2",{id:"cluster-scheduler\u8bf7\u6c42\u5ba1\u8ba1\u670d\u52a1\u5931\u8d25\u540e\u5bfc\u81f4\u540e\u7eed\u8bf7\u6c42\u4e00\u76f4\u5931\u8d25-\u4e14\u62a5\u9519\u4fe1\u606f\u76f8\u540c"},"cluster-scheduler\u8bf7\u6c42\u5ba1\u8ba1\u670d\u52a1\u5931\u8d25\u540e\u5bfc\u81f4\u540e\u7eed\u8bf7\u6c42\u4e00\u76f4\u5931\u8d25, \u4e14\u62a5\u9519\u4fe1\u606f\u76f8\u540c"),(0,n.kt)("h3",{id:"\u539f\u56e0-6"},"\u539f\u56e0"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"AsyncAuditService"),"\u4e2d\u7684",(0,n.kt)("inlineCode",{parentName:"p"},"asyncAudit"),"\u65b9\u6cd5\u590d\u7528\u4e86CoroutineScope, \u5bfc\u81f4\u540e\u7eed\u8bf7\u6c42\u5931\u8d25\u540e, \u8be5CoroutineScope\u88ab\u53d6\u6d88, \u4ece\u800c\u5bfc\u81f4\u540e\u7eed\u8bf7\u6c42\u4e00\u76f4\u5931\u8d25\n\u8be5\u4ee3\u7801\u5982\u4e0b"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-kotlin"},"class AsyncAuditService(private val auditService: AuditService) : AuditService, LogCapability {\n\n    private val coroutineScope = CoroutineScope(Dispatchers.IO)\n\n    private fun asyncAudit(\n        successLog: String,\n        failureLog: String,\n        doAudit: suspend CoroutineScope.() -> Unit,\n    ) {\n        coroutineScope.launch { doAudit() }.invokeOnCompletion {\n            if (it != null)\n                logger.warn(failureLog, it)\n            else\n                logger.info(successLog)\n        }\n    }\n\n}\n")),(0,n.kt)("h3",{id:"\u89e3\u51b3\u65b9\u6848-8"},"\u89e3\u51b3\u65b9\u6848"),(0,n.kt)("p",null,"\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u521b\u5efa\u4e00\u4e2aCoroutineScope, \u4fee\u6539\u540e\u7684\u4ee3\u7801\u5982\u4e0b"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-kotlin"},"class AsyncAuditService(private val auditService: AuditService) : AuditService, LogCapability {\n\n    private fun asyncAudit(\n        successLog: String,\n        failureLog: String,\n        doAudit: suspend CoroutineScope.() -> Unit,\n    ) {\n        CoroutineScope(Dispatchers.IO).launch { doAudit() }.invokeOnCompletion {\n            if (it != null)\n                logger.warn(failureLog, it)\n            else\n                logger.info(successLog)\n        }\n    }\n\n}\n")),(0,n.kt)("h3",{id:"\u53c2\u8003-2"},"\u53c2\u8003"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-scope/"},"CoroutineScope")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/59996928/coroutinescope-cannot-be-reused-after-an-exception-thrown"},"CoroutineScope cannot be reused after an exception thrown"))),(0,n.kt)("h2",{id:"remote-access\u670d\u52a1\u7684websocket\u65e0\u6cd5\u8fde\u63a5\u663e\u793a401"},"remote-access\u670d\u52a1\u7684websocket\u65e0\u6cd5\u8fde\u63a5\u663e\u793a401"),(0,n.kt)("h3",{id:"\u73b0\u8c61-5"},"\u73b0\u8c61"),(0,n.kt)("p",null,"\u8c03\u7528\u5bf9\u7528\u63a5\u53e3\u65f6\u663e\u793a401, \u672c\u5730\u5c1d\u8bd5\u590d\u73b0\u65f6\u8f93\u51fa\u5982\u4e0b"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"orange@orange:~/Documents/Dev/Project/Fastone/fastone/services$ curl -I 'http://localhost:2000/vdi/ws-tunnel?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI3IiwibGludXhHaWQiOjIwMDEsInJvbGVzIjpbIlJPTEVfQURNSU4iXSwiZGlzYWJsZVBhc3RlIjpmYWxzZSwidXNlcklkIjo3LCJ2ZXJzaW9uIjoiMy5tYXN0ZXIuMTEzODI4IiwiZmFzdG9uZVNjZW5hcmlvIjoiRkNDRV9QVUJMSUMiLCJsaW51eFVpZCI6MjAwMSwibmFtZSI6ImFkbWluIiwidXNlclR5cGUiOiJMT0NBTCIsImV4cCI6MTY3NTk2MjEzMiwiaWF0IjoxNjc1OTE4OTMyLCJ1c2VybmFtZSI6ImFkbWluIiwiZGlzYWJsZUNvcHkiOmZhbHNlfQ.CAHWjkipa01xnZHwrm0Gh1E4kE0TWRyg4zvUFCi0WqdHg0mAlolgvw2F6qyiqX6t73Ne6n0dVGNesEohPhAOdQ&hostname=10.0.17.26&protocol=SSH&width=659&height=707&dpi=96'\n\nHTTP/1.1 401 \nVary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 0\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: SAMEORIGIN\nContent-Length: 0\nDate: Fri, 10 Feb 2023 02:17:05 GMT\n")),(0,n.kt)("h3",{id:"\u539f\u56e0-7"},"\u539f\u56e0"),(0,n.kt)("p",null,"\u76ee\u524d",(0,n.kt)("inlineCode",{parentName:"p"},"spring-boot3"),"\u4f7f\u7528\u7684\u662f",(0,n.kt)("inlineCode",{parentName:"p"},"jakarta.websocket"),",\u800c",(0,n.kt)("inlineCode",{parentName:"p"},"guacamole"),"\u5b9e\u73b0\u65b9\u6848\u662f\u57fa\u4e8e",(0,n.kt)("inlineCode",{parentName:"p"},"javax.websocket"),", \u8fd9\u4e24\u8005\u4e0d\u517c\u5bb9\u3002\n",(0,n.kt)("inlineCode",{parentName:"p"},"remote-access"),"\u670d\u52a1\u7684",(0,n.kt)("inlineCode",{parentName:"p"},"web-socket"),"\u7684\u5165\u53e3\u4ee3\u7801\u7c7b\u5982\u4e0b"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-kotlin"},"class RemoteAccessEndpoint : GuacamoleWebSocketTunnelEndpoint() {}\n\nabstract class GuacamoleWebSocketTunnelEndpoint : javax.websocket.Endpoint {}\n")),(0,n.kt)("h3",{id:"\u89e3\u51b3\u65b9\u6848-9"},"\u89e3\u51b3\u65b9\u6848"),(0,n.kt)("p",null,"\u9996\u5148\u67e5\u770b\u5176Github\u4ed3\u5e93\u67e5\u770b",(0,n.kt)("inlineCode",{parentName:"p"},"guacamole-common"),"\u6700\u65b0\u7684\u4ee3\u7801, \u5176\u6700\u65b0\u7248\u672c\u4e3a1.5.0, \u4f46\u662f\u8be5\u7248\u672c\u4ecd\u7136\u4f7f\u7528\u7684\u662f",(0,n.kt)("inlineCode",{parentName:"p"},"javax.websocket"),"\u3002"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-xml",metastring:'title="pom.xml"',title:'"pom.xml"'},"\n<dependency>\n    <groupId>javax.websocket</groupId>\n    <artifactId>javax.websocket-api</artifactId>\n    <version>1.0</version>\n    <scope>provided</scope>\n</dependency>\n")),(0,n.kt)("p",null,"\u4e3a\u4e86\u80fd\u591f\u652f\u6301",(0,n.kt)("inlineCode",{parentName:"p"},"jakarta.websocket"),", \u9700\u8981copy\u76f8\u5e94\u4f9d\u8d56\u7684\u4ee3\u7801\u5230\u9879\u76ee\u4e2d, \u5176license\u4e3aApache License 2.0, \u53ef\u4ee5\u76f4\u63a5copy\u3002"),(0,n.kt)("h3",{id:"\u53c2\u8003-3"},"\u53c2\u8003"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://issues.apache.org/jira/browse/GUACAMOLE-1325"},"GUACAMOLE-1325")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/apache/guacamole-client"},"guacamole-client"))),(0,n.kt)("h2",{id:"cc\u73af\u5883\u5317\u4e00\u533a\u7684\u96c6\u7fa4\u65e0\u6cd5\u901a\u8fc7sshvnc\u8fde\u63a5"},"cc\u73af\u5883\u5317\u4e00\u533a\u7684\u96c6\u7fa4\u65e0\u6cd5\u901a\u8fc7",(0,n.kt)("inlineCode",{parentName:"h2"},"SSH/VNC"),"\u8fde\u63a5"),(0,n.kt)("h3",{id:"\u73b0\u8c61-6"},"\u73b0\u8c61"),(0,n.kt)("p",null,"\u5728\u5317\u4e00\u533a\u5f00\u542f\u96c6\u7fa4\u540e, ",(0,n.kt)("inlineCode",{parentName:"p"},"SSH/VNC"),"\u5747\u65e0\u6cd5\u8fde\u63a5, \u67e5\u770b",(0,n.kt)("inlineCode",{parentName:"p"},"remote-access"),"\u5bf9\u5e94\u65e5\u5fd7\u53d1\u73b0",(0,n.kt)("inlineCode",{parentName:"p"},"Auth fail")),(0,n.kt)("h3",{id:"\u539f\u56e0-8"},"\u539f\u56e0"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"fastone"),"\u7528\u6237\u5bc6\u7801\u8fc7\u671f, \u56e0\u4e3a",(0,n.kt)("inlineCode",{parentName:"p"},"remote-access"),"\u670d\u52a1\u4f7f\u7528\u7684\u662f",(0,n.kt)("inlineCode",{parentName:"p"},"fastone"),"\u7528\u6237, \u5bc6\u7801\u8fc7\u671f\u540e\u4f7f\u7528ssh\u65e0\u6cd5\u8fde\u63a5."),(0,n.kt)("h3",{id:"\u89e3\u51b3\u65b9\u6848-10"},"\u89e3\u51b3\u65b9\u6848"),(0,n.kt)("p",null,"\u4fee\u6539",(0,n.kt)("inlineCode",{parentName:"p"},"ansible"),"\u4e2d\u7684",(0,n.kt)("inlineCode",{parentName:"p"},"fs-base.yml"),"\u76f8\u5173\u4ee3\u7801\u5982\u4e0b"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml"},"- name: unlock and set fastone user never expire\n  hosts: all\n  become: yes\n  gather_facts: no\n  any_errors_fatal: no\n  tasks:\n    - name: unlock and set fastone user never expire\n      user:\n        name: fastone\n        password: 'xxx'\n        update_password: always\n        expires: -1\n    - name: set max expire to 100 years\n      shell: chage -M 36500 fastone\n")),(0,n.kt)("h3",{id:"\u6392\u67e5\u6b65\u9aa4-2"},"\u6392\u67e5\u6b65\u9aa4"),(0,n.kt)("p",null,"\u4f7f\u7528\u4e91\u5382\u5546\u63d0\u4f9b\u7684",(0,n.kt)("inlineCode",{parentName:"p"},"login user"),"\u767b\u5f55\u5230\u5bf9\u5e94\u5934\u8282\u70b9\u5c1d\u8bd5\u4f7f\u7528fastone\u7528\u6237\u8fdb\u884cssh\u8fde\u63a5, \u53d1\u73b0\u65e0\u6cd5\u8fde\u63a5, \u62a5\u9519\u63d0\u793a\u5bc6\u7801\u8fc7\u671f",(0,n.kt)("br",null)),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"sudo ssh -i /home/fastone/.ssh/id_rsa fastone@localhost\n")),(0,n.kt)("p",null,"\u6392\u67e5deploy\u5bf9\u5e94\u5173\u4e8e\u8d26\u6237\u7684\u914d\u7f6e\u4ee3\u7801, \u5176\u662f\u5b9e\u73b0\u662f\u57fa\u4e8e",(0,n.kt)("inlineCode",{parentName:"p"},"ansible"),"\u7684",(0,n.kt)("inlineCode",{parentName:"p"},"user"),"\u6a21\u5757\u5b8c\u6210\u7684, \u76f8\u5e94\u4ee3\u7801\u5982\u4e0b",(0,n.kt)("br",null)),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yml"},"- name: unlock and set fastone user never expire\n  hosts: all\n  become: yes\n  gather_facts: no\n  any_errors_fatal: no\n  tasks:\n    - name: unlock and set fastone user never expire\n      user:\n        name: fastone\n        password: ''\n        update_password: always\n        expires: -1\n")),(0,n.kt)("p",null,"\u5176\u4e2d",(0,n.kt)("inlineCode",{parentName:"p"},"expires"),"\u8bbe\u7f6e\u4e3a\u4e86-1, \u8fd9\u4e2a\u53ea\u80fd\u6539\u53d8\u8d26\u6237\u7684\u8fc7\u671f\u65f6\u95f4\u800c\u4e0d\u4f1a\u6539\u53d8\u5bc6\u7801\u8fc7\u671f\u65f6\u95f4, \u9700\u8981\u67e5\u770buser\u6a21\u5757\u7684\u6587\u6863\u6765\u67e5\u770b\u5bf9\u5e94\u7684\u53c2\u6570",(0,n.kt)("br",null)),(0,n.kt)("p",null,"\u5728ansible\u7684\u6587\u6863\u4e2d\u63d0\u4f9b\u4e86\u5bf9\u5e94\u53c2\u6570, \u53c2\u6570\u5982\u4e0b",(0,n.kt)("br",null)),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-text"},"password_expire_max | added in ansible-core 2.11 | Maximum number of days between password change. Supported on Linux only.\npassword_expire_min | added in ansible-core 2.11 | Minimum number of days between password change. Supported on Linux only.\n")),(0,n.kt)("p",null,"\u7531\u4e8e\u6211\u4eec\u7684",(0,n.kt)("inlineCode",{parentName:"p"},"ansible"),"\u7248\u672c\u4e3a",(0,n.kt)("inlineCode",{parentName:"p"},"2.10"),", \u65e0\u6cd5\u4f7f\u7528\u8fd9\u4e24\u4e2a\u53c2\u6570, \u6240\u4ee5\u9700\u8981\u53e6\u4e00\u79cd\u65b9\u5f0f\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898",(0,n.kt)("br",null),"\n\u76ee\u524d\u6700\u5feb\u7684\u89e3\u51b3\u529e\u6cd5\u662f\u65b0\u5efa\u4e00\u4e2atask, \u901a\u8fc7",(0,n.kt)("inlineCode",{parentName:"p"},"shell"),"\u6a21\u5757\u6765\u6267\u884c",(0,n.kt)("inlineCode",{parentName:"p"},"chage"),"\u547d\u4ee4\u6765\u4fee\u6539\u5bc6\u7801\u8fc7\u671f\u65f6\u95f4, \u4ee3\u7801\u5982\u4e0b",(0,n.kt)("br",null)),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml"},"- name: unlock and set fastone user never expire\n  hosts: all\n  become: yes\n  gather_facts: no\n  any_errors_fatal: no\n  tasks:\n    - name: unlock and set fastone user never expire\n      user:\n        name: fastone\n        password: 'xxx'\n        update_password: always\n        expires: -1\n    - name: set max expire to 100 years\n      shell: chage -M 36500 fastone\n")),(0,n.kt)("h3",{id:"\u53c2\u8003-4"},"\u53c2\u8003"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.ansible.com/ansible/latest/collections/ansible/builtin/user_module.html"},"ansible.builtin.user module \u2013 Manage user accounts")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://www.ansiblepilot.com/articles/user-password-expiration-ansible-module-user/"},"User password expiration - Ansible module user")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://www.shellhacks.com/linux-set-password-to-never-expire/"},"Linux: Set Password to NEVER Expire")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://linuxhint.com/ansible-user-module-tutorial/"},"Ansible User Module Tutorial")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://delinea.com/resources/password-generator-it-tool"},"Strong Password Generator"))))}d.isMDXComponent=!0}}]);