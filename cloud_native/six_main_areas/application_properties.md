[toc]
# 应用属性

## Scalability
### Vertical scalability(垂直扩展)
从计算节点添加/删除硬件资源，如 CPU 或内存。这种方法是有限的，因为不可能不断添加硬件资源。另一方面，应用程序不需要以特定的方式设计来放大或缩小。
### Horizontal scalability(水平扩展)
意味着向系统添加更多计算节点或容器（例如Kubernetes）。它要求应用程序具有可扩展性
### 区别
- 传统系统通常会在系统增加负载时采用垂直扩展, 无需重新设计可扩展性
- 垂直扩展为计算节点增加资源
- 水平扩展增加更多计算节点
### 总结
- 在环境不断变化的云中水平扩展是首要选择
- 可扩展性的一大障碍是应用程序状态

## Manageability
> 外部输入在有限的时间间隔内改变系统状态或输出的能力
是一种无需更改其代码即可修改应用程序行为的能力

## Observability
可观察性是衡量您可以从其外部输出推断其内部状态的程度。
### 四大支柱
#### 监控(Monitoring)
测量应用程序的特定方面，以获取有关其整体健康状况的信息并识别故障
e.g. Spring Boot Actuator
#### 告警/可视化(Alerting/Visualization)
当在监视应用程序时发现故障时，应触发警报，并应采取一些措施来处理它,特定的仪表板用于可视化收集的数据并将其绘制在相关图表中，旨在提供系统行为的良好画面
e.g. Grafana
#### 分布式系统追踪基础设施(Distributed systems tracing infrastructure)
在分布式系统中，仅仅跟踪每个子系统的行为是不够的。跟踪流经不同子系统的数据至关重要。
e.g. Spring Cloud Sleuth
#### 日志聚合/分析(Log aggregation/analytics)
跟踪应用程序中的主要事件对于推断软件的行为并在出现问题时进行调试至关重要
在云原生系统中，应聚合和收集日志以更好地了解系统行为，并有可能运行分析以从这些数据中挖掘信息
e.g.  EFK stack (Elastic, Fluentd, Kibana)

## Resilience
如果一个系统出现故障依然可以工作, 那么它就具有弹性
### 基本概念
#### Fault(故障)
故障是在软件或基础设施中产生不正确内部状态的缺陷 案例(方法调用返回空值, 即使规范要求返回非空值)
#### Error(错误)
错误是系统预期行为与实际行为之间的差异 案例(由上述错误引发NullPointerException)
#### Failure(失败)
当触发故障并导致错误时，可能会发生故障，使系统无响应且无法按照其规范运行 案例(如果未捕获异常, 则该错误引发故障, 系统以500响应)
### 解决方案
- Circuit Breakers(断路器)
- Retries(重试)
- Redundancy(冗余)
### 相关技术
- Spring Cloud Circuit Breaker
- Resilience4j

## Loose coupling
### 定义
- 系统的基本属性
- 系统中个部分之间了解尽可能少
### 目标
独立进化每个部分, 当一个部分发生变化时其他部分不需要作出相应的改变
### 模块化
- 对其他部分的依赖最小(松耦合)
- 模块中的代码封装在一起(高内聚)
### 模块化的好处
- 管理
每个模块都是松耦合的, 负责开发的人花费更少的开发时间, 因为不需要与其他团队沟通
- 产品灵活
每个模块独立于其他模块发展
- 可理解
没必要将系统作为一个整体来了解特定模块

## 总结
- 云原生软件是由你的计算方式定义的，而不是你在哪里计算的
- 云是关于哪里，云原生是关于如何